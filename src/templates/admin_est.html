{% include "header.html" %}

    <body class="bg-gray-400 flex flex-col items-center justify-center">        
        <div class="big w-8/12 m-4 border-2 border-blue-300 flex flex-col items-center" style="height: 50rem; maxHeight: 50rem"> 
            <div class="w-full">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link text-black" aria-current="page" href="/admin-emp">Admin</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-black" aria-current="page" href="/employee-review">Employee</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-black" href="/">Client</a>
                    </li>
                </ul>
            </div>
            <div class="medium w-11/12 h-full border-2 border-red-200 my-4 flex flex-col items-center">
                <div class="w-full">
                    <ul class="nav justify-content-center">
                        <li class="nav-item">
                            <a class="btn border h-10 m-2" aria-current="page" href="/admin-emp">Employees</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn border h-10 m-2" aria-current="page" href="/admin-cli">Clients</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn border h-10 m-2" aria-current="page" href="/admin-est">Establishments</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn border h-10 m-2" aria-current="page" href="#">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn border h-10 m-2" aria-current="page" href="#">Schedules</a>
                        </li>
                        <li class="nav-item">
                            <a class="btn border h-10 m-2" aria-current="page" href="/admin-spc">Specialities</a>
                        </li>
                    </ul>
                </div>
                <div class="small w-full h-full border-2 border-green-200">
                    <div class="w-full p-4"> 
                        <form class="form-inline w-1/2 flex flex-row" hx-post="/search-establishment" hx-trigger="keyup, submit" hx-target="#est_list" hx-swap="innerHTML">
                            <input class="form-control w-1/2 mr-3" name="locality" type="search" placeholder="Search by locality" aria-label="Search">
                            <button class="btn btn-success" type="submit">Search</button>
                        </form>            
                    </div>
                    <div class="w-full px-4 grid grid-cols-2 grid-rows-1" style="height: 30rem; maxHeight: 30rem">
                        <div id="est_list" class="col-span-1 overflow-auto border-2 border-red-200 flex flex-col items-center" hx-get="/establishments-list" hx-trigger="load, refreshEstablishmentsList from:body"> 
                            <!-- trigger means that when the HTTPS solicitation reply contains "refreshEstablishmentsList" in its body, 
                                that will trigger an data update in this div without having to reload the website -->
                            {% include "establishments_list.html" %}
                        </div>
                        <div id="content" class="col-span-1 mx-8 border-2 border-black">
                            <!-- This div will be updated by the 'establishments_list.html' component -->
                        </div>
                    </div>
                    <div class="w-full py-3 px-4">
                        <button class="btn border w-1/4" hx-get="/establishments" hx-trigger="click" hx-target="#content" hx-swap="innerHTML">Add New Establishment</button>
                    <div>
                </div>        
            </div> 
        </div>        

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </body>
</html>
    